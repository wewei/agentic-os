# @agentic-os/cli æ¼”ç¤ºæŒ‡å—

## æ¼”ç¤ºæµç¨‹

### 1. å®‰è£…å’Œé…ç½®

```bash
# å…‹éš†ä»“åº“ï¼ˆå¦‚æœè¿˜æ²¡æœ‰ï¼‰
git clone https://github.com/wewei/agentic-os.git
cd agent-os

# å®‰è£…ä¾èµ–
bun install

# åˆ›å»ºé…ç½®ç›®å½•
mkdir -p ~/.agentic-os

# å¤åˆ¶ç¤ºä¾‹é…ç½®
cp packages/cli/config.example.yaml ~/.agentic-os/config.yaml

# ç¼–è¾‘é…ç½®ï¼ˆå¯é€‰ï¼‰
vim ~/.agentic-os/config.yaml
```

### 2. å¯åŠ¨ CLI

```bash
# æ–¹å¼ 1ï¼šä»æ ¹ç›®å½•å¯åŠ¨
bun run cli

# æ–¹å¼ 2ï¼šä» CLI åŒ…ç›®å½•å¯åŠ¨
cd packages/cli
bun run start

# æ–¹å¼ 3ï¼šä½¿ç”¨è‡ªå®šä¹‰é…ç½®
bun run packages/cli/src/cli.ts --config /path/to/config.yaml
```

### 3. åŸºæœ¬äº¤äº’

å¯åŠ¨åï¼Œä½ ä¼šçœ‹åˆ°è¿™æ ·çš„ç•Œé¢ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [10:30:45] SYSTEM Welcome to Agentic OS CLI            â”‚
â”‚ [10:30:45] SYSTEM Type your message and press Enter... â”‚
â”‚                                                         â”‚
â”‚                                                         â”‚
â”‚                                                         â”‚
â”‚                                                         â”‚
â”‚                                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ > _                                                     â”‚
â”‚                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4. å‘é€æ¶ˆæ¯

åœ¨ä¸‹æ–¹è¾“å…¥æ¡†ä¸­è¾“å…¥æ¶ˆæ¯ï¼ŒæŒ‰ Enter å‘é€ï¼š

```
> Hello, Agentic OS!
```

ä½ ä¼šçœ‹åˆ°ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [10:30:45] SYSTEM Welcome to Agentic OS CLI            â”‚
â”‚ [10:30:45] SYSTEM Type your message and press Enter... â”‚
â”‚ [10:31:12] USER   Hello, Agentic OS!                   â”‚
â”‚ [10:31:12] AGENT  Echo: Hello, Agentic OS!             â”‚
â”‚                                                         â”‚
â”‚                                                         â”‚
â”‚                                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ > _                                                     â”‚
â”‚                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5. ä½¿ç”¨å‘½ä»¤

#### æŸ¥çœ‹å¸®åŠ©

```
> /help
```

æ˜¾ç¤ºï¼š

```
[10:32:00] SYSTEM Available commands:
                   /help   - Show this help message
                   /clear  - Clear message history
                   /config - Show current configuration
                   Ctrl+C or Esc - Exit application
```

#### æŸ¥çœ‹é…ç½®

```
> /config
```

æ˜¾ç¤ºå½“å‰é…ç½®ï¼š

```json
{
  "cli": {
    "theme": "default",
    "messageLimit": 1000
  },
  "model": {
    "provider": "openai",
    "model": "gpt-4"
  },
  "shell": {
    "maxBufferSize": 1048576
  }
}
```

#### æ¸…ç©ºæ¶ˆæ¯

```
> /clear
```

æ¶ˆæ¯å†å²å°†è¢«æ¸…ç©ºã€‚

### 6. æ»šåŠ¨æ¶ˆæ¯

å½“æ¶ˆæ¯å¾ˆå¤šæ—¶ï¼Œå¯ä»¥ä½¿ç”¨ï¼š

- **é¼ æ ‡æ»šè½®** - åœ¨æ¶ˆæ¯çª—å£ä¸­æ»šåŠ¨
- **Vi æ¨¡å¼é”®** - `j`/`k` ä¸Šä¸‹æ»šåŠ¨ï¼ˆå½“å…‰æ ‡åœ¨æ¶ˆæ¯çª—å£æ—¶ï¼‰
- **Page Up/Down** - å¿«é€Ÿç¿»é¡µ

### 7. é€€å‡ºåº”ç”¨

- æŒ‰ `Ctrl+C`
- æˆ–æŒ‰ `Esc`

## é¢œè‰²è¯´æ˜

æ¶ˆæ¯æŒ‰ç±»å‹æ˜¾ç¤ºä¸åŒé¢œè‰²ï¼š

| ç±»å‹   | é¢œè‰²   | è¯´æ˜                 |
| ------ | ------ | -------------------- |
| USER   | ğŸŸ¢ ç»¿è‰² | ä½ è¾“å…¥çš„æ¶ˆæ¯         |
| AGENT  | ğŸ”µ é’è‰² | Agent çš„å›å¤         |
| SYSTEM | ğŸŸ¡ é»„è‰² | ç³»ç»Ÿé€šçŸ¥å’Œæç¤º       |
| ERROR  | ğŸ”´ çº¢è‰² | é”™è¯¯ä¿¡æ¯             |

## é«˜çº§åŠŸèƒ½æ¼”ç¤º

### è‡ªå®šä¹‰é…ç½®

ç¼–è¾‘ `~/.agentic-os/config.yaml`ï¼š

```yaml
cli:
  theme: default
  messageLimit: 500  # ä¿®æ”¹æ¶ˆæ¯é™åˆ¶

model:
  provider: openai
  model: gpt-4o      # æ›´æ”¹æ¨¡å‹
  apiKey: sk-xxx     # æ·»åŠ  API key

# æ·»åŠ è‡ªå®šä¹‰æ¨¡å—é…ç½®
myModule:
  customSetting: value
```

é‡å¯ CLI ä»¥åŠ è½½æ–°é…ç½®ã€‚

### ç¼–ç¨‹ä½¿ç”¨

å¦‚æœä½ æƒ³åœ¨ä»£ç ä¸­ä½¿ç”¨ CLI ç»„ä»¶ï¼š

```typescript
import { loadConfig, createInitialState, handleUserInput } from '@agentic-os/cli';

// åŠ è½½é…ç½®
const config = loadConfig();

// åˆ›å»ºçŠ¶æ€
let state = createInitialState(config);

// å¤„ç†è¾“å…¥
state = handleUserInput(state, 'Hello!');

// æŸ¥çœ‹æ¶ˆæ¯
console.log(state.messages);
```

è¿è¡Œç¤ºä¾‹ï¼š

```bash
bun run packages/cli/src/example.ts
```

## æ•…éšœæ’é™¤

### ç»ˆç«¯æ˜¾ç¤ºå¼‚å¸¸

å¦‚æœçœ‹åˆ°ä¹±ç æˆ–æ˜¾ç¤ºå¼‚å¸¸ï¼š

1. ç¡®ä¿ä½¿ç”¨ç°ä»£ç»ˆç«¯ï¼š
   - Windows: Windows Terminal
   - Mac: iTerm2 æˆ–é»˜è®¤ Terminal
   - Linux: GNOME Terminalã€Konsole ç­‰

2. æ£€æŸ¥ç»ˆç«¯å¤§å°ï¼š
   - æœ€å°æ¨èå°ºå¯¸ï¼š80x24
   - æ¨èå°ºå¯¸ï¼š120x40 æˆ–æ›´å¤§

3. ç¡®ä¿ç»ˆç«¯æ”¯æŒ ANSI é¢œè‰²

### é…ç½®æœªåŠ è½½

1. æ£€æŸ¥é…ç½®æ–‡ä»¶è·¯å¾„ï¼š
   ```bash
   # Windows
   echo %USERPROFILE%\.agentic-os\config.yaml
   
   # Unix
   echo ~/.agentic-os/config.yaml
   ```

2. éªŒè¯ YAML æ ¼å¼ï¼š
   ```bash
   # ä½¿ç”¨ yaml éªŒè¯å·¥å…·
   cat ~/.agentic-os/config.yaml | bun run -e "import yaml from 'js-yaml'; console.log(yaml.load(await Bun.stdin.text()))"
   ```

3. æŸ¥çœ‹æ—¥å¿—è¾“å‡ºï¼ˆå¦‚æœæœ‰é”™è¯¯ä¼šæ˜¾ç¤ºï¼‰

### æ— æ³•è¾“å…¥

ç¡®ä¿å…‰æ ‡åœ¨ä¸‹æ–¹è¾“å…¥æ¡†ä¸­ï¼š

- ç‚¹å‡»è¾“å…¥æ¡†åŒºåŸŸ
- æˆ–é‡å¯åº”ç”¨

## æ€§èƒ½ä¼˜åŒ–å»ºè®®

### æ¶ˆæ¯é™åˆ¶

å¦‚æœæ¶ˆæ¯å¾ˆå¤šå¯¼è‡´å¡é¡¿ï¼Œå‡å°‘æ¶ˆæ¯é™åˆ¶ï¼š

```yaml
cli:
  messageLimit: 100  # å‡å°‘åˆ° 100 æ¡
```

### å®šæœŸæ¸…ç†

å®šæœŸä½¿ç”¨ `/clear` å‘½ä»¤æ¸…ç©ºå†å²æ¶ˆæ¯ã€‚

## æ‰©å±•ç¤ºä¾‹

### æ·»åŠ è‡ªå®šä¹‰å‘½ä»¤

ç¼–è¾‘ `packages/cli/src/app.ts`ï¼š

```typescript
case 'time':
  return addMessage(state, {
    timestamp: new Date(),
    content: `Current time: ${new Date().toLocaleString()}`,
    type: 'system',
  });
```

ç„¶åé‡å¯ CLIï¼Œè¾“å…¥ `/time` å³å¯çœ‹åˆ°å½“å‰æ—¶é—´ã€‚

## é”®ç›˜å¿«æ·é”®å‚è€ƒ

| å¿«æ·é”®       | åŠŸèƒ½             |
| ------------ | ---------------- |
| Enter        | å‘é€æ¶ˆæ¯         |
| Ctrl+C       | é€€å‡ºåº”ç”¨         |
| Esc          | é€€å‡ºåº”ç”¨         |
| â†‘ / â†“        | æ»šåŠ¨æ¶ˆæ¯ï¼ˆå¯é€‰ï¼‰ |
| Page Up/Down | å¿«é€Ÿç¿»é¡µï¼ˆå¯é€‰ï¼‰ |

## ä¸‹ä¸€æ­¥

1. æ¢ç´¢ä»£ç ï¼šæŸ¥çœ‹ `packages/cli/src/` ç›®å½•
2. é˜…è¯»æ–‡æ¡£ï¼š
   - [README.md](./README.md) - åŠŸèƒ½æ¦‚è¿°
   - [QUICKSTART.md](./QUICKSTART.md) - å¿«é€Ÿå¼€å§‹
   - [DEVELOPMENT.md](./DEVELOPMENT.md) - å¼€å‘æŒ‡å—
3. é›†æˆ Agent Busï¼šå°† CLI ä¸æ ¸å¿ƒç³»ç»Ÿè¿æ¥
4. è‡ªå®šä¹‰åŠŸèƒ½ï¼šæ·»åŠ ä½ è‡ªå·±çš„å‘½ä»¤å’ŒåŠŸèƒ½

## åé¦ˆ

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·ï¼š

1. æŸ¥çœ‹æ–‡æ¡£
2. æ£€æŸ¥ GitHub Issues
3. æäº¤æ–°çš„ Issue

ç¥ä½ ä½¿ç”¨æ„‰å¿«ï¼ğŸš€

