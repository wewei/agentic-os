# GitHub Copilot 自定义说明

<!-- 引用共享的项目上下文文件 -->
<!-- 请参考 .github/project-context.md 中的项目配置 -->

## GitHub Copilot 特定指导

### 代码生成偏好
- 严格遵循函数式编程风格，避免使用 class 和 interface
- 优先使用 type 定义数据类型
- 函数长度控制在 50 行以内
- 使用 camelCase 命名函数和变量，PascalCase 命名类型
- 生成代码时考虑可读性和可维护性

### 类型安全要求
- 充分利用 TypeScript 类型系统，避免使用 any
- 使用 Zod 进行运行时类型验证
- 为所有函数参数和返回值提供明确类型
- 使用类型推断简化代码，但保持可读性

### 错误处理模式
- 使用 InvokeResult 类型返回操作结果
- 异步函数使用 try-catch 捕获错误
- 提供清晰的错误消息
- 避免静默失败

### Agent Bus 集成
- 新功能应作为能力（Ability）实现
- 能力 ID 使用 `module:action` 格式
- 使用 Zod 定义 inputSchema
- 通过 Bus 注册能力

### 代码审查重点
- 检查函数长度是否超过 50 行
- 验证是否遵循函数式编程原则
- 确认类型定义使用 type 而非 interface
- 检查命名规范是否符合项目标准
- 评估代码的可读性和逻辑清晰度

### 重构建议
- 当函数超过 50 行时，建议进行逻辑提取和拆分
- 优先考虑将复杂逻辑拆分为多个小函数
- 使用函数组合而非继承
- 保持函数的单一职责原则
- 建议使用纯函数，避免副作用

### 模块开发模式
1. 在对应模块目录创建/修改文件
2. 定义类型（types.ts）
3. 实现能力（abilities.ts）
4. 注册到 Bus（index.ts）
5. 更新文档

### 测试编写
- 为新功能编写测试
- 通过 Bus 测试能力调用
- 验证错误处理逻辑
- 测试边界条件

